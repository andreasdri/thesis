\chapter{Diskusjon}
\label{ch:discussion}

\section{Utfordringer for teknologi i avstandsoppfølging}
Kapittel \ref{ch:case} viser at Trondheim kommune ønsker å være tidlig ute med ny teknologi, men at dette kan være vanskelig å
få til i praksis. De er også klare på at det er teknologien som skal understøtte tjenesten og ikke motsatt. Den største
utfordringen er å få rullet ut tjenesten til flere hundre brukere i en stor organisasjon. Det er i denne konteksten
man må se hvordan teknologi kan hjelpe kommunen med å løse sine problemer.
% teknologien må understøtte tjenesten
% brukerne er veldig forskjellige
% kommunen må forholde seg til leverandører av helseprodukter osv.

\section{Utvikling og evaluering av en frittstående prototype}
Utviklingen av prototypen skjedde ikke så brukernært som det kanskje var ønsket i starten av prosjektet. Det ble kun tid
til én iterasjon der målet først var å få til to runder med tilbakemelding i mellom. Det tok litt tid før alle komponenter kom fram,
og i starten ble en annen prototypeplattform valgt og prøvd istedenfor Raspberry Pi Zero W.
Det var også opprinnelig et ønske om å få til mer toveiskommunikasjon, for eksempel et varsel med pulserende lys til brukeren
når det var tid for å foreta en måling. Dette ble det ikke tid til, men kan være noe å prøve ut i fremtiden.

Fingeravtrykket fra enheten må lagres i skyløsningen som en fil, og knyttes til hver enkelt bruker. Når brukeren
ønsker å autentisere seg, må fingeravtrykket hentes til enheten, og så sjekkes. Tofaktorautentisering er at man
sier hvem man er på to forskjellige måter. Som oftest er det to av følgende: noe en vet, noe en har eller noe en er.
Enhet med sertifikat er noe en har, og fingeravtrykk er noe en er. I teorien kan det dermed bety at prototypen
oppfyller kravene til en tofaktorautentisering.

Fordelen med å basere seg på eksisterende plattformer som Android og iOS er at man får mye gratis i form
av blant annet sikkerhetsoppdateringer og rammeverk for brukergrensesnitt. Dette er noe en må ordne selv i en
frittstående løsning. Eksisterende plattformer har allerede mye infrastruktur som kan av laste kommunen. I tillegg
har mange av brukerne enheter som kjører på disse plattformene fra før av. iOS-telefoner og mange Android-telefoner
har innebygget fingeravtrykkssensor og muligheten til å styre disse fra programvare. Det kunne erstattet behovet for
en tredjepartssensor.

\section{En arkitektur for skybasert IoT}
En arkitektur for skybasert IoT for avstandsoppfølging kan være basert på AWS IoT som gir mye verdi for en utvikler ut av boksen.

MQTT ble brukt som kommunikasjonsprotokoll mellom prototype og skyløsning. Denne protokollen egner seg kanskje enda bedre for sensorer
som sender data kontinuerlig. Brukeren sender 20 sekunder med data hver dag i bruksscenarioet som ble skissert i dette prosjektet. Det er ikke så veldig
mye data. Den samme dataen kunne blitt sendt over HTTPS og en standard arkitektur som REST istedenfor. Det hadde vært mulig å bruke
en mer tradisjonell backendløsning istedenfor å basere seg på AWS IoT. Istedenfor sertifikater for autentisering
kunne en brukt tokens med så og så lang gyldighet som bevis på at enheten er logget inn. Spørsmålet er hvor mye verdi AWS IoT egentlig gir
for avstandsoppfølging.

Device shadows ble ikke brukt i dette prosjektet, men det kunne gitt en bra base for å håndtere tilstanden til hver enhet, og manipulere denne tilstanden
fra en adminapplikasjon. Det hadde vært relevant for å implementere en økt grad av toveiskommunikasjon. AWS gir flere slike nyttige verktøy for
å håndtere infrastrukturen på en enklere måte.

\section{Metodediskusjon}


\iffalse
\section{Begrensninger med
prototypen}\label{begrensninger-med-prototypen}

\begin{itemize}
\tightlist
\item
  Lav grad av toveiskommunikasjon implementert i prototypen, men rammeverket gjør det mulig.
\item
  Fingeravtrykk-template lagres direkte på sensoren, den burde blitt
  hentet fra sensoren og så lagret i skyen. Deretter burde den blitt
  hentet hver gang man trengte den.
\item
  Paring og bonding med Bluetooth. Enheten må pares hver gang i
  prototypen. Dette er en begrensning med det underliggende rammeverket
  som brukes.
\item
  I prototypen brukes MQTT over WebSockets til å sende data. Men det er
  såpass få målepunkter som sendes hver dag at man like gjerne kunne
  brukt HTTP REST med kryptering. Det er få fordeler med å bruke en
  protokoll som MQTT i dette prosjektet. Det hadde vært mer relevant om
  sensorene sendte data kontinuerlig hele døgnet.
\end{itemize}

\section{Sikkerhet}\label{sikkerhet}

\begin{itemize}
\tightlist
\item
  Tofaktorautentisering
\item
  Hva oppfyller kravene til tofaktorautentisering? Oppfyller
  klientsertifikat og enhet utplassert i hjem sammen med
  fingeravtrykksensor kravene?
\item
  Hvilke alternativer finnes det til å bruke fingeravtrykkssensor som
  autentisering? Både med tanke på brukbarhet og sikkerhet.
\item
  Bluetooth
\item
  BLE har flere sikkerhetsproblemer, spesielt i versjon 4.0 og 4.1. Skal
  man gjøre en oppfordring om kun å bruke Bluetooth 4.2? Hvilke
  avveininger og anbefalinger burde man gjøre dersom man må bruke en
  enhet med 4.0 eller 4.1? Det tar lang tid å ta i bruk en ny
  Bluetooth-standard. Produsenter av velferdsteknologi må følge med på
  den teknologiske utviklingen. Problemer her: tar lang tid å få et
  produkt godkjent, koster sikkert masse penger.
\end{itemize}

\section{Personvern og datalagring}\label{personvern-og-datalagring}

\begin{itemize}
\tightlist
\item
  Krav om at norske helsedata skal ligge i Norge. Dermed kan man ikke
  bruke en eksisterende skyløsning som AWS. AWS lagrer data i Europa.
  Det fører til at mye av infrastrukturen må lages fra bunnen av. Snakk
  om at Azure skal få til en løsning der man har hele økosystemet
  kjørende i Norge.
\item
  Ny personvernforordning gir flere rettigheter til forbrukere. Det
  gjelder blant annet kontroll på egen data, oversikt over hva den
  brukes til, mulighet til å slette den osv. Man må kunne argumentere
  for at dataen som lagres er nyttig for forbrukeren. Er da å lagre all
  sensordataen nyttig? Kan man argumentere for det?
\end{itemize}

\section{Frittstående løsninger kontra nettbrett, mobil,
PC}\label{frittstuxe5ende-luxf8sninger-kontra-nettbrett-mobil-pc}

Diskusjon og drøfting på bakgrunn av evalueringen om hvor vellykket det
var å implementere en frittstående løsning. Hvilke fordeler og ulemper
har man med å ta i bruk et eksisterende økosystem? Stikkord:
sikkerhetsoppdateringer, vedlikehold, innkjøpskostnad, hva har brukere
hjemme osv.

\section{Metodediskusjon}\label{metodediskusjon}

\begin{itemize}
\tightlist
\item
  Diskutere forskningsmetodene som er brukt? Hvor stor troverdighet kan
  man ha til forskningen? Kunne noe vært gjort annerledes?
\end{itemize}
\fi
